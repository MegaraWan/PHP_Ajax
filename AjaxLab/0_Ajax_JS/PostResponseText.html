<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<link rel="stylesheet" type="text/css" href="GetResponseText.css" />
<title>檢查會員帳號</title>

</head>
<body> 
<h2 align="center">申請加入會員</h2>
<form>
<table width="540" border="0" cellpadding="0" cellspacing="0" id="memTable">
    <caption>會員申請單</caption>
    <tr>
        <th>帳號<span class="must">*</span>:</th><td>
        <input name="memId" id="memId" type="text" size="8" maxlength="8" />
        <span id="idMsg"></span>	 
        </td></tr>    
    <tr><th width="35%">姓名<span class="must">*</span>:</th><td><input name="memName" type="text" size="10" maxlength="10" /></td></tr>

    <tr>
        <th>密碼<span class="must">*</span>:</th><td><input name="memPsw" type="password" size="8" maxlength="8" /></td></tr>
     <tr>
         <th>確認密碼<span class="must">*</span>:</th><td><input name="memPsw2" type="password" size="8" maxlength="8" /></td></tr    
    ><tr><th>Email:</th><td><input name="email" type="text" size="50" maxlength="50" /></td></tr>
    <tr><th>性別:</th><td><input name="sex" type="radio" value="1"/>男<input name="sex" type="radio" value="0"/>女</td></tr>
    <tr><th>生日:</th>
    <td><input name="y" type="text"  size="4" maxlength="4"/>-
        <input name="m" type="text" size="2" maxlength="2"/>-
        <input name="d" type="text" size="2" maxlength="2"/>
        (格式: yyyy-mm-dd)</td></tr>
    <tr><th>電話:</th><td><input name="tel" type="text" size="10" maxlength="10"/></td></tr>
</table>
<p style="text-align:center"><input type="submit" value="確定加入"/>&nbsp;<input type="reset" value="取消" /> </p>
</form>
<div id="showPanel">
</div>
<script> 
function checkId(){  
  //產生XMLHttpRequest物件
    let xhr = new XMLHttpRequest();

  //註冊callback function 
    xhr.onload = function () { //xhr.readyState===4
       document.getElementById("idMsg").innerText = xhr.responseText;
    }
  
  //設定好所要連結的程式
    xhr.open("post", "PostResponseText.php")

  //送出資料
    xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
    let data_info = `memId=${document.getElementById("memId").value}`;
    xhr.send(data_info);
}


//..........................................
window.addEventListener("load", function(){
  document.getElementById("memId").addEventListener("change", checkId) 
}, false);

</script>
</body>
</html>
